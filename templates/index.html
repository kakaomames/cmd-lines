<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ - pokemoguãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</title>
    <link rel="apple-touch-icon" sizes="180x180" href="logo.png">
<link rel="icon" type="image/png" sizes="32x32" href="logo.png">
<link rel="icon" type="image/png" sizes="16x16" href="logo.png">
<link rel="manifest" href="manifest.json">
    <meta name="google-adsense-account" content="ca-pub-2300695626190502">
    <link rel="stylesheet" href="https://kakaomames.github.io/Minecraft-flask-app/static/style.css">
</head>
<body>
    <header>
        <h1>HOMEğŸ </h1>
        <nav>
            <ul>
                <li><a href="./home">ãƒ›ãƒ¼ãƒ </a></li>
            </ul>
        </nav>
    </header>
    <main>
    </main>
    <footer>
        <p>&copy; 2025  pokemoguãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</p>
    </footer>
    <script>
    // DOMè¦ç´ ã‚’å–å¾—ã—ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ç¤ºã™ã‚‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‚ãªãã¦ã‚‚æ©Ÿèƒ½ã™ã‚‹ãŒã€ç¢ºèªã®ãŸã‚ã«ã‚ã‚‹ã¨ä¾¿åˆ©ï¼‰
    const statusElement = document.getElementById('status');

    /**
     * Service Worker ã®ç™»éŒ²å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹é–¢æ•°
     */
    function registerServiceWorker() {
        // 1. Service Worker APIãŒãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèª
        if ('serviceWorker' in navigator) {
            
            // 2. ãƒšãƒ¼ã‚¸å…¨ä½“ã®ãƒ­ãƒ¼ãƒ‰å®Œäº†ã‚’å¾…ã£ã¦ã‹ã‚‰ç™»éŒ²ã‚’é–‹å§‹ (æ¨å¥¨ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°)
            window.addEventListener('load', () => {
                
                // /sw.js ã®ãƒ‘ã‚¹ã§ Service Worker ã‚’ç™»éŒ²ã—ã¾ã™ã€‚
                // Service Worker ã®ã‚¹ã‚³ãƒ¼ãƒ—ã¯ã€ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª(/)ã¨ãªã‚Šã¾ã™ã€‚
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        // ç™»éŒ²æˆåŠŸæ™‚ã®å‡¦ç†
                        console.log('Service Worker ç™»éŒ²æˆåŠŸ:', registration.scope);
                        if (statusElement) {
                            statusElement.textContent = `Service Worker ç™»éŒ²æˆåŠŸ ğŸ‰ (Scope: ${registration.scope})`;
                        }
                    })
                    .catch(error => {
                        // ç™»éŒ²å¤±æ•—æ™‚ã®å‡¦ç†
                        console.error('Service Worker ç™»éŒ²å¤±æ•—:', error);
                        if (statusElement) {
                            statusElement.textContent = `Service Worker ç™»éŒ²å¤±æ•— ğŸ˜¢: ${error.message}`;
                        }
                    });
            });
        } else {
            // Service Worker ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ãƒ–ãƒ©ã‚¦ã‚¶ã®å ´åˆ
            console.warn('ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ Service Worker ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚');
            if (statusElement) {
                statusElement.textContent = 'ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ Service Worker ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚';
            }
        }
    }

    // ç™»éŒ²é–¢æ•°ã‚’å®Ÿè¡Œ
    registerServiceWorker();
</script>
</body>
</html>
